<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Visualization of regression functions for two variables — visreg2d • visreg</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><script src="../extra.js"></script><meta property="og:title" content="Visualization of regression functions for two variables — visreg2d"><meta name="description" content="A function used to visualize how two variables interact to affect the
response in regression models."><meta property="og:description" content="A function used to visualize how two variables interact to affect the
response in regression models."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">visreg</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.7.0.15</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-basic-framework" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Basic framework</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-basic-framework"><li><a class="dropdown-item" href="../articles/web/basic.html">Getting started</a></li>
    <li><a class="dropdown-item" href="../articles/web/contrast.html">Contrast vs. conditional plots</a></li>
    <li><a class="dropdown-item" href="../articles/web/trans.html">Transformations</a></li>
    <li><a class="dropdown-item" href="../articles/web/cond.html">Conditioning</a></li>
    <li><a class="dropdown-item" href="../articles/web/options.html">Graphical options</a></li>
    <li><a class="dropdown-item" href="../articles/web/gg.html">Visreg and ggplot2</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-models-with-interactions" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Models with interactions</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-models-with-interactions"><li><a class="dropdown-item" href="../articles/web/cross.html">Cross-sectional plots</a></li>
    <li><a class="dropdown-item" href="../articles/web/overlay.html">Overlay plots</a></li>
    <li><a class="dropdown-item" href="../articles/web/surface.html">Surface plots</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-special-topics" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Special topics</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-special-topics"><li><a class="dropdown-item" href="../articles/web/glm.html">GLMs</a></li>
    <li><a class="dropdown-item" href="../articles/web/blackbox.html">Forests, SVMs, etc.</a></li>
    <li><a class="dropdown-item" href="../articles/web/mixed.html">Mixed models</a></li>
    <li><a class="dropdown-item" href="../articles/web/multi.html">Multiple outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/web/faq.html">FAQ</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/pbreheny/visreg"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Visualization of regression functions for two variables</h1>
      <small class="dont-index">Source: <a href="https://github.com/pbreheny/visreg/blob/master/R/visreg2d.R" class="external-link"><code>R/visreg2d.R</code></a></small>
      <div class="d-none name"><code>visreg2d.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A function used to visualize how two variables interact to affect the
response in regression models.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">visreg2d</span><span class="op">(</span></span>
<span>  <span class="va">fit</span>,</span>
<span>  <span class="va">xvar</span>,</span>
<span>  <span class="va">yvar</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"conditional"</span>, <span class="st">"contrast"</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  trans <span class="op">=</span> <span class="va">I</span>,</span>
<span>  scale <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"linear"</span>, <span class="st">"response"</span><span class="op">)</span>,</span>
<span>  nn <span class="op">=</span> <span class="fl">99</span>,</span>
<span>  cond <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-fit">fit<a class="anchor" aria-label="anchor" href="#arg-fit"></a></dt>
<dd><p>The fitted model object you wish to visualize.  Any object with
'predict' and 'model.frame' methods are supported, including lm, glm, gam,
rlm, coxph, and many more.</p></dd>


<dt id="arg-xvar">xvar<a class="anchor" aria-label="anchor" href="#arg-xvar"></a></dt>
<dd><p>Character string specifying the variable to be put on the x-axis
of your plot.  Both continuous variables and factors are supported.</p></dd>


<dt id="arg-yvar">yvar<a class="anchor" aria-label="anchor" href="#arg-yvar"></a></dt>
<dd><p>Character string specifying the variable to be put on the y-axis
of your plot.  Both continuous variables and factors are supported.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>The type of plot to be produced.  The following options are
supported:</p><ul><li><p>If 'conditional' is selected, the plot returned
shows the value of the variable on the x-axis and the change in response on
the y-axis, holding all other variables constant (by default, median for
numeric variables and most common category for factors).</p></li>
<li><p>If
'contrast' is selected, the plot returned shows the effect on the expected
value of the response by moving the x variable away from a reference point
on the x-axis (for numeric variables, this is taken to be the mean).</p></li>
</ul><p>For
more details, see references.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>The data frame used to fit the model.  Typically, visreg() can
figure out where the data is, so it is not necessary to provide this.  In
some cases, however, the data set cannot be located and must be supplied
explicitly.</p></dd>


<dt id="arg-trans">trans<a class="anchor" aria-label="anchor" href="#arg-trans"></a></dt>
<dd><p>(Optional) A function specifying a transformation for the
vertical axis.</p></dd>


<dt id="arg-scale">scale<a class="anchor" aria-label="anchor" href="#arg-scale"></a></dt>
<dd><p>By default, the model is plotted on the scale of the linear
predictor.  If <code>scale='response'</code> for a glm, the inverse link function
will be applied so that the model is plotted on the scale of the original
response.</p></dd>


<dt id="arg-nn">nn<a class="anchor" aria-label="anchor" href="#arg-nn"></a></dt>
<dd><p>Resolution of the three dimensional plot.  Higher values will
results in a smoother looking plot.</p></dd>


<dt id="arg-cond">cond<a class="anchor" aria-label="anchor" href="#arg-cond"></a></dt>
<dd><p>Named list specifying conditional values of other explanatory
variables. By default, conditional plots in visreg are constructed by
filling in other explanatory variables with the median (for numeric
variables) or most common category (for factors), but this can be overridden
by specifying their values using <code>cond</code> (see examples).</p></dd>


<dt id="arg-plot">plot<a class="anchor" aria-label="anchor" href="#arg-plot"></a></dt>
<dd><p>Send the calculations to <code><a href="plot.visreg2d.html">plot.visreg2d</a></code>, producing
a plot?  Default is TRUE.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Graphical parameters (e.g., <code>ylab</code>) can be passed to the
function to customize the plots.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>visreg2d</code> object consisting of:</p>
<dl><dt>x</dt>
<dd><p>Values of
<code>xvar</code> to be plotted</p></dd>
 <dt>y</dt>
<dd><p>Values of <code>yvar</code> to be plotted</p></dd>

<dt>z</dt>
<dd><p>Values of outcome to be plotted</p></dd>
 <dt>meta</dt>
<dd><p>Meta-information
needed to construct plots, such as the name of the x and y variables.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ul><li><p><a href="https://pbreheny.github.io/visreg" class="external-link">https://pbreheny.github.io/visreg</a></p></li>
<li><p>Breheny, P. and Burchett, W. (2017), Visualizing regression models using
visreg.
<a href="https://journal.r-project.org/archive/2017/RJ-2017-046/index.html" class="external-link">https://journal.r-project.org/archive/2017/RJ-2017-046/index.html</a></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://pbreheny.github.io/visreg/surface.html" class="external-link">https://pbreheny.github.io/visreg/surface.html</a>
<code><a href="visreg.html">visreg</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Patrick Breheny and Woodrow Burchett</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">Ozone</span> <span class="op">~</span> <span class="va">Solar.R</span> <span class="op">+</span> <span class="va">Wind</span> <span class="op">+</span> <span class="va">Temp</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">Wind</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">Temp</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">Wind</span><span class="op">*</span><span class="va">Temp</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">Wind</span><span class="op">*</span><span class="va">Temp</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">Temp</span><span class="op">*</span><span class="va">Wind</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">Temp</span><span class="op">^</span><span class="fl">2</span><span class="op">*</span><span class="va">Wind</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>data<span class="op">=</span><span class="va">airquality</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">visreg2d</span><span class="op">(</span><span class="va">fit</span>, x<span class="op">=</span><span class="st">"Wind"</span>, y<span class="op">=</span><span class="st">"Temp"</span>, plot.type<span class="op">=</span><span class="st">"image"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="visreg2d-1.png" alt="" width="480" height="480"></span>
<span class="r-in"><span><span class="fu">visreg2d</span><span class="op">(</span><span class="va">fit</span>, x<span class="op">=</span><span class="st">"Wind"</span>, y<span class="op">=</span><span class="st">"Temp"</span>, plot.type<span class="op">=</span><span class="st">"persp"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="visreg2d-2.png" alt="" width="480" height="480"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Requires the rgl package</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu">visreg2d</span><span class="op">(</span><span class="va">fit</span>, x<span class="op">=</span><span class="st">"Wind"</span>, y<span class="op">=</span><span class="st">"Temp"</span>, plot.type<span class="op">=</span><span class="st">"rgl"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Requires the ggplot2 package</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu">visreg2d</span><span class="op">(</span><span class="va">fit</span>, x<span class="op">=</span><span class="st">"Wind"</span>, y<span class="op">=</span><span class="st">"Temp"</span>, plot.type<span class="op">=</span><span class="st">"gg"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://myweb.uiowa.edu/pbreheny/" class="external-link">Patrick Breheny</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Last updated 2025-02-27</p>
</div>

    </footer></div>





  </body></html>

